  databaseChangeLog:
    - changeSet:
        id: 1
        author: s.linev
        changes:
          - createTable:
              ifNotExists: true
              tableName: author
              remarks: авторы
              columns:
                - column:
                    name: id
                    type: integer
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: nickname
                    type: varchar(50)
                - column:
                    name: birthDate
                    type: date
          - createTable:
              ifNotExists: true
              tableName: book
              columns:
                - column:
                    name: id
                    type: integer
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: isbn
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: publicationDate
                    type: date
                    constraints:
                      nullable: false
          - createTable:
              ifNotExists: true
              tableName: genre
              columns:
                - column:
                    name: id
                    type: integer
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
          - createTable:
              ifNotExists: true
              tableName: library_book
              columns:
                - column:
                    name: id
                    type: integer
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: bookId
                    type: integer
                    constraints:
                      nullable: false
                      foreignKeyName: bookId
                      references: book(id)
          - createTable:
              ifNotExists: true
              tableName: reader
              columns:
                - column:
                    name: id
                    type: integer
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: email
                    type: varchar(50)
                    constraints:
                      nullable: false
          - createTable:
              ifNotExists: true
              tableName: composition
              columns:
                - column:
                    name: id
                    type: integer
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: genreId
                    type: integer
                    constraints:
                      nullable: false
                      foreignKeyName: genreId
                      references: genre(id)
          - createTable:
              ifNotExists: true
              tableName: composition_author
              columns:
                - column:
                    name: compositionAuthorId
                    type: integer
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: compositionId
                    type: integer
                    constraints:
                      nullable: false
                      foreignKeyName: compositionId
                      references: composition(id)
                - column:
                    name: authorId
                    type: integer
                    constraints:
                      nullable: false
                      foreignKeyName: authorId
                      references: author(id)
          - createTable:
              ifNotExists: true
              tableName: book_composition
              columns:
                - column:
                    name: bookCompositionId
                    type: integer
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: compositionId
                    type: integer
                    constraints:
                      nullable: false
                      foreignKeyName: compositionId
                      references: composition(id)
                - column:
                    name: bookId
                    type: integer
                    constraints:
                      nullable: false
                      foreignKeyName: bookId
                      references: book(id)
          - createTable:
             ifNotExists: true
             tableName: bookLog
             columns:
               - column:
                   name: id
                   type: integer
                   autoIncrement: true
                   constraints:
                     primaryKey: true
                     nullable: false
               - column:
                   name: readerId
                   type: integer
                   constraints:
                     nullable: false
                     foreignKeyName: readerId
                     references: reader(id)
               - column:
                   name: libraryBookId
                   type: integer
                   constraints:
                     nullable: false
                     foreignKeyName: libraryBookId
                     references: library_book(id)
               - column:
                   name: issueDate
                   type: date
                   constraints:
                     nullable: false
               - column:
                   name: returnDate
                   type: date